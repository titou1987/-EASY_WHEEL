<div class="banner shadow-lg" style="background-image: linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.4)), url(https://images.unsplash.com/photo-1592222491987-aebdb920e1a0?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);">
<div class="container text-center h-100">
  <h1><strong>Easy Wheel</strong></h1>
  <p>Find the<strong> best bikes</strong> around<strong> you.</strong></p>
</div>
</div>

<div class="container m-4" id="results">
  <div class="d-flex justify-content-evenly mb-3">
    <div class="dropdown">
      <button class="btn btn-warning dropdown-toggle" style="width: 200px;" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        Type
      </button>
      <ul class="dropdown-menu">
        <%= link_to 'All', bikes_path(anchor: "results"), class: 'dropdown-item' %>
        <%= link_to 'Cargo', bikes_path(type: 'Cargo', anchor: "results"), class: 'dropdown-item' %>
        <%= link_to 'Tandem', bikes_path(type: 'Tandem', anchor: "results"), class: 'dropdown-item' %>
        <%= link_to 'Trailer', bikes_path(type: 'Trailer', anchor: "results"), class: 'dropdown-item' %>
        <%= link_to 'Long Tail', bikes_path(type: 'Long Tail', anchor: "results"), class: 'dropdown-item' %>
      </ul>
    </div>

    <div class="dropdown">
      <button class="btn btn-warning dropdown-toggle" style="width: 200px;" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        Price
      </button>
      <ul class="dropdown-menu">
        <%= link_to 'All', bikes_path(anchor: "results"), class: 'dropdown-item' %>
        <%= link_to '0 - 20€', bikes_path(price: '0-20', anchor: "results"), class: 'dropdown-item' %>
        <%= link_to '20 - 40€', bikes_path(price: '20-40', anchor: "results"), class: 'dropdown-item' %>
        <%= link_to '40 - 60€', bikes_path(price: '40-60', anchor: "results"), class: 'dropdown-item' %>
        <%= link_to '60€ et plus', bikes_path(price: '60+', anchor: "results"), class: 'dropdown-item' %>
      </ul>
    </div>


    <div class="dropdown">
      <button class="btn btn-warning dropdown-toggle" style="width: 200px;" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        City
      </button>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="#">Paris</a></li>
        <li><a class="dropdown-item" href="#">Lyon</a></li>
        <li><a class="dropdown-item" href="#">Marseille</a></li>
        <li><a class="dropdown-item" href="#">Toulouse</a></li>
      </ul>
    </div>
  </div>

  <div class="d-flex justify-content-between mt-5">
    <div class="cards-grid gap-1">
      <% @bikes.each do |bike| %>
        <%= link_to bike_path(bike), class: "card card-index mx-auto" do %>
          <img class="card-img-top" src="<%= cl_image_path bike.photo.key %>" alt="<%= bike.bike_name %>">
          <div class="card-body">
            <h2><%= bike.bike_name %></h2>
            <h3><strong><%= bike.price.to_i %> €</strong> per day</h3>
            <p><%= bike.description %></p>
          </div>
        <% end %>
      <% end %>
    </div>

    <div class="mapindex w-100 rounded-5 m-3"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>
</div>
